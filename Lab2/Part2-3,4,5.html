<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Events</title>
</head>
<body>
<script type='text/javascript' src='https://d3js.org/d3.v7.min.js'></script>
<script>
    svg = d3.select('body')
        .append('svg')
        .style('width', '100px')
        .style('height', '200px')
        .style('background-color', 'green')
    // exercise 5
    // always using this only one text element, to avoid text not disappear after mouse move away
    svg.append("text")
        .attr("x", 0)
        .attr("y", 0)
        .text("(0, 0)");

    d3.select("svg")
        .append("circle")
        .attr("cx", 100)
        .attr("cy", 100)
        .attr("r", 25)
        .style("fill", "purple");

    d3.select("svg")
        .on("mouseover", function(event){
            d3.select(this)
                .style("background-color", "orange")
                // exercise 3
                // change the width to 200
                .style('width', '200px')
                .style('height', '200px')

            // exercise 5
            // d3.pointer(event) is an array of length 2
            d3.select("text")
                .attr("x", d3.pointer(event)[0])
                .attr("y", d3.pointer(event)[1])
                .text("(" + d3.pointer(event)[0] + ", "+ d3.pointer(event)[1] + ")")
    // Get current event info
    // Note: d3.event (event) passed as the first argument to all listeners console.log(event);
    // Get x & y co-ordinates
    // Note: d3.mouse was removed in d3v6, you should use d3.pointer(event) console.log(d3.pointer(event));
    })
        .on("mouseout", function(){
            d3.select(this)
                .style("background-color", "steelblue")
                .style('width', '100px')
                .style('height', '200px');
        });

    // exercise 4
    // using previous circle
    d3.select("circle")
        .on("mouseover", function(){
            d3.select(this)
                .attr("r", 50);
        })
        .on("mouseout", function(){
            d3.select(this)
                .attr("r", 25);
        });
</script>
</body>
</html>